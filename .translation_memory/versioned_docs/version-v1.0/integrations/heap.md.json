{
  "source_file_path_relative_to_docusaurus_root": "versioned_docs/version-v1.0/integrations/heap.md",
  "source_file_content_hash": "bf30577b41eee04c339306f7cfea3f8cab4cd1a7dad9d4dbf7bdd7edd821679a",
  "segments": [
    {
      "segment_id": "58cfcc64",
      "source_content": "---\ntitle: Heap Analytics Integration\nsidebar_label: Heap Analytics\nhide_title: true\n---",
      "source_content_hash": "950dd16bb7de33e16036a7f1733563a6101a466632f2c41f5c7d5abef3bf44a9",
      "node_type": "yaml",
      "translatable": false,
      "translations": {
        "zh-CN": "@@untranslatable_placeholder_58cfcc64"
      }
    },
    {
      "segment_id": "6ef78e84",
      "source_content": "![Heap Analytics](/img/integrations/heap/heap-logo.svg)",
      "source_content_hash": "e8f5ce46d8fa3dabc8b67fddc7a69d01f8366585a53e58a14004e8ccf5e1f226",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "![Heap Analytics](/img/integrations/heap/heap-logo.svg)"
      }
    },
    {
      "segment_id": "53eaf0e1",
      "source_content": "You can integrate Flagsmith with Heap Analytics. The integration automatically sends the flag states for identified\nusers into Heap for cohort analysis, A/B testing and more. The process is as follows:",
      "source_content_hash": "e2f1fe8ef41a520688973b6ad697fbf48087d4ca3850ec96aa91f19ae71da7db",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "您可以将Flagsmith与Heap Analytics集成。该集成会自动将已识别用户的特征标志状态发送至Heap平台，用于群体分析、A/B测试等场景。具体流程如下："
      }
    },
    {
      "segment_id": "9fcbdce9",
      "source_content": "## Integration Setup",
      "source_content_hash": "42eeb793ab64304e5c9607a7548631a7e61c3a4aa782d56d87f97c42e486f90f",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "zh-CN": "## 集成设置"
      }
    },
    {
      "segment_id": "9e760345",
      "source_content": "1. Get the Heap Project Environment ID for your Heap project from the Heap Manage Project page (Account > Manage >\n   Projects > Environment > Get ID)\n2. Add the ID key into Flagsmith (Integrations > Add Heap Integration)\n3. All API calls generated by the Flagsmith SDK to the `Get Identity Flags` endpoint will send the a full set of flag\n   evaluations for that particular user to Heap as an [`Event`](https://developers.heap.io/reference#track-1)",
      "source_content_hash": "0d08f5b9ba725858d06a1a6b8bdfba874a9fa27b75ff86e369a77fda83d2ec93",
      "node_type": "list",
      "translatable": true,
      "translations": {
        "zh-CN": "1. 从Heap项目管理页面获取项目环境ID（路径：Account > Manage > Projects > Environment > Get ID）\n2. 将该ID密钥添加至Flagsmith（路径：Integrations > Add Heap Integration）\n3. 当Flagsmith SDK调用`Get Identity Flags`接口时，系统会自动将该用户的所有特征标志评估结果作为[事件](https://developers.heap.io/reference#track-1)发送至Heap"
      }
    },
    {
      "segment_id": "bc633244",
      "source_content": "## How it Works",
      "source_content_hash": "a1e5e66eff104d6568de0c475abe63afbde3c1723bf1dec08aed6e725df8af6e",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "zh-CN": "## 工作原理"
      }
    },
    {
      "segment_id": "8a545039",
      "source_content": ":::tip\n\nFor flags that contain remote config values, Flagsmith will pass the value of the flag to Heap if the flag is `enabled`.\n\nIf the flag has no remote config value, Flagsmith will just pass the boolean state for the flag.\n\n:::",
      "source_content_hash": "f91178945ba7a6b1a2ce4d098d32c3bbcc57677ec0a4444fa5925ec4d156b218",
      "node_type": "containerDirective",
      "translatable": true,
      "translations": {
        "zh-CN": ":::tip\n\n对于包含远程配置值的特征标志：\n- 若标志处于`启用`状态，Flagsmith会将其配置值发送至Heap\n- 若标志无远程配置值，则仅传递布尔状态\n\n:::"
      }
    },
    {
      "segment_id": "26524352",
      "source_content": "Identity flag values are passed into Heap.",
      "source_content_hash": "8e2df854966c6f293614184d472cccc0e8d4409897471829a74eea5a215827e4",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "用户身份特征标志值将被传递至Heap平台。"
      }
    },
    {
      "segment_id": "73ab96a3",
      "source_content": "Here's a demo user in Flagsmith:",
      "source_content_hash": "856f5f82772d2e95c84c1e14f3e25fec8e8cc201cf0ad4df88bb037c80ce3082",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "以下是Flagsmith中的示例用户："
      }
    },
    {
      "segment_id": "7499a4e7",
      "source_content": "![Heap Analytics](/img/integrations/heap/heap-integration-2.png)",
      "source_content_hash": "a3e0849720653f7f1ef4febe33aefd5f6f57ba322bd3a75791dec9502de2793c",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "![Heap Analytics](/img/integrations/heap/heap-integration-2.png)"
      }
    },
    {
      "segment_id": "517051a7",
      "source_content": "If we make the call to the Flagsmith API to get the flags for this user:",
      "source_content_hash": "01ab7a71ad21b217bac7061fb2776ba9bbee1e85add7760fe56514d0bc9a6019",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "当我们调用Flagsmith API获取该用户的特征标志时："
      }
    },
    {
      "segment_id": "4dd51304",
      "source_content": "```bash\ncurl 'https://api.flagsmith.com/api/v1/identities/?identifier=development_user_123456' \\\n  -H 'x-environment-key: 8KzETdDeMY7xkqkSkY3Gsg'\n```",
      "source_content_hash": "7e30312acb85276f2034e1f3af1e2e76f61cf450849837c6864abc65392641a3",
      "node_type": "code",
      "translatable": false,
      "translations": {
        "zh-CN": "@@untranslatable_placeholder_4dd51304"
      }
    },
    {
      "segment_id": "1042b50d",
      "source_content": "And then take a look in our Heap dashboard, you can see the user and the flag data that has been sent to the Heap\nplatform.",
      "source_content_hash": "e2b71f16c850bfd2e2a35cddf4170694c48a68399b489740d56246d98d3d31a2",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "在Heap仪表盘中，您可以看到已发送至Heap平台的用户数据及特征标志信息。"
      }
    },
    {
      "segment_id": "8af76f3d",
      "source_content": "![Heap Analytics](/img/integrations/heap/heap-integration-1.png)",
      "source_content_hash": "4d3b99f5cf3825749ea0b88b86a04b01c842ddbf3455fe374d0028c56d8f992f",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "![Heap Analytics](/img/integrations/heap/heap-integration-1.png)"
      }
    },
    {
      "segment_id": "c674e260",
      "source_content": "## Use Case",
      "source_content_hash": "3ae33cbfd3d67078b12dd943b2e9e8251e5180d47247c2199188c8f88a57d562",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "zh-CN": "## 使用场景"
      }
    },
    {
      "segment_id": "a44047a5",
      "source_content": "Once the integration has been set up, you can start segmenting your Heap identities based on the flags that they saw.",
      "source_content_hash": "bf5125ef3b72a24b1f80781b13202a387560be1fecf5afae6d15699888644956",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "完成集成后，您可以根据用户接触到的特征标志对Heap身份进行细分。"
      }
    },
    {
      "segment_id": "f7ef78f9",
      "source_content": "This means you can run AB tests driven by Flagsmith segments, and have the data show up automatically in Heap.",
      "source_content_hash": "de8664619cd6ca4068bd78470dbccdc66ebeaa9114004f9a4f6c93e5e6e98e9f",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "这意味着您可以通过Flagsmith细分驱动A/B测试，相关数据将自动同步至Heap平台。"
      }
    },
    {
      "segment_id": "60410af6",
      "source_content": "## Running Multivariate Tests with Heap and Flagsmith",
      "source_content_hash": "221634a6cd6017028c1bbb62215095d0211267e17b319525df146ebfdf641c4b",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "zh-CN": "## 使用Heap与Flagsmith进行多变量测试"
      }
    },
    {
      "segment_id": "b9aaa519",
      "source_content": "Once your integration has been set up and has been running for a few days, you will see flag values appear in Heap as\n\"Custom Event Properties\" as child properties of the \"Flagsmith Feature Flags\" event. Here's how you can see the\neffectiveness of a flag being enabled. We're going to use an example of our own platform, where people can toggle the\n\"Dark Mode\" flag within our application on and off.",
      "source_content_hash": "2c0cac37a30589e0d724e1a7bc8ca6600ffe1c55a20e3c2c7780ebf6034af5f6",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "集成运行数日后，特征标志值会作为\"Flagsmith Feature Flags\"事件的子属性出现在Heap的\"自定义事件属性\"中。以下示例演示如何评估\"深色模式\"标志的启用效果："
      }
    },
    {
      "segment_id": "e912d935",
      "source_content": "### Step 1 - Create a Custom Event Definition",
      "source_content_hash": "5e076787f66f5d24a503d961c155bf8235e5b75e74a62dd659bfd84afa9504c0",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "zh-CN": "### 步骤1 - 创建自定义事件定义"
      }
    },
    {
      "segment_id": "8b2a52b1",
      "source_content": "In Heap, go to Definitions > New Definition > New Event. Set up your event similar to the below:",
      "source_content_hash": "3f7038f38012db98ef3dd96323990dc599b886419a0192908b4e15abb9254f1f",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "在Heap中进入Definitions > New Definition > New Event，按如下方式配置事件："
      }
    },
    {
      "segment_id": "5dae11e3",
      "source_content": "![Heap Analytics Step 1](/img/integrations/heap/heap-mv-step-1.png)",
      "source_content_hash": "58c51fae08195edecdd2af150a2800de2ad5eb22699dbcfd3c2522dbc132fdab",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "![Heap Analytics Step 1](/img/integrations/heap/heap-mv-step-1.png)"
      }
    },
    {
      "segment_id": "a5a4323e",
      "source_content": "### Step 2 - Create a Segment based on this new Custom Event Property",
      "source_content_hash": "6aaf0f687422983b02d7e806c750592a7061b244fd497fd46eae890076d4723d",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "zh-CN": "### 步骤2 - 基于自定义事件属性创建细分群体"
      }
    },
    {
      "segment_id": "657c2b20",
      "source_content": "In Heap, go to Definitions > New Definition > New Segment. Set up your Segment similar to the below:",
      "source_content_hash": "e05c150f45cc01ece6f2616fec8e06ae60829ef6c154858cc2bae9f0ed6d104f",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "在Heap中进入Definitions > New Definition > New Segment，按如下方式配置细分："
      }
    },
    {
      "segment_id": "e7772088",
      "source_content": "![Heap Analytics Step 2](/img/integrations/heap/heap-mv-step-2.png)",
      "source_content_hash": "e3b963a866604704086267b165ac7de73c3495100080cefd085c64681852c877",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "![Heap Analytics Step 2](/img/integrations/heap/heap-mv-step-2.png)"
      }
    },
    {
      "segment_id": "d422fb13",
      "source_content": "### Step 3 - Create your Report",
      "source_content_hash": "b8eb5dbafa959eac9d566c4aa770396884ae1e694515f23fc8bf652d13fe05e8",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "zh-CN": "### 步骤3 - 创建分析报告"
      }
    },
    {
      "segment_id": "f01228d3",
      "source_content": "Once you have your Segment created, based on a Flagsmith flag value, you can use that Segment in reports within Heap.\nHere's an example of us seeing what the conversion rate of a dark mode vs non-dark mode user looks like. Notice the\n\"Group Analysis - Conversion Rate\" at the bottom of the page.",
      "source_content_hash": "adae0c564ee126891aec59278500f85eb392dbdf498f2cd64a0eb4174f0fe500",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "基于特征标志值创建细分后，可在Heap报告中应用该细分。下图展示了深色模式与非深色模式用户的转化率对比（注意页面底部的\"群体分析-转化率\"）："
      }
    },
    {
      "segment_id": "e8e162a9",
      "source_content": "![Heap Analytics Step 3](/img/integrations/heap/heap-mv-step-3.png)",
      "source_content_hash": "f0cf18cd51890d7648293436b681c44c230399b17d16b17f764d10ba52a4f6de",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "![Heap Analytics Step 3](/img/integrations/heap/heap-mv-step-3.png)"
      }
    },
    {
      "segment_id": "b936dd6a",
      "source_content": "## Integration Notes",
      "source_content_hash": "025d1a806eaaae1a50e27b9e54a40adb381acbee73b159a06b6f334b02f1741d",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "zh-CN": "## 集成注意事项"
      }
    },
    {
      "segment_id": "a5c5772a",
      "source_content": "You have to identify users on both platforms in the same way. The Flagsmith `Identity ID` must be the same as the Heap\n`identity`.",
      "source_content_hash": "6aba049b7f8ba78b2e703b0b9fdea34039ac187f1f74195d405d5473a0e7e10b",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "zh-CN": "需确保两个平台的用户标识一致，Flagsmith的`Identity ID`必须与Heap的`identity`保持相同。"
      }
    }
  ],
  "target_i18n_subpath": "docusaurus-plugin-content-docs/version-v1.0/integrations/heap.md",
  "last_updated_timestamp": "2025-06-08T19:31:17.956374+00:00",
  "schema_version": "1.0",
  "translated_versions": {
    "zh-CN": "bf30577b41eee04c339306f7cfea3f8cab4cd1a7dad9d4dbf7bdd7edd821679a"
  }
}